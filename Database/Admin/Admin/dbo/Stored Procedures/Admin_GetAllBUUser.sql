-- exec [dbo].[Admin_GetAllBUUser] 'A122E628-7B63-4D96-B6BC-3ED426021FCB'Create     PROCEDURE [dbo].[Admin_GetAllBUUser]              (               @BUId VARCHAR(100)    )  AS           BEGIN             BEGIN TRY                BEGIN		SELECT 	distinct RM.RoleId, RM.RoleName     From Admin_UserRoleMapping URM WITH(NOLOCK)   LEFT JOIN [HeroIdentity].[dbo].[Identity_User] IU WITH(NOLOCK) ON IU.UserId = URM.UserId   LEFT JOIN Admin_RoleMaster RM ON RM.RoleId = URM.RoleId   where URM.BUId = @BUId   Union All   Select distinct RM.RoleId, RM.RoleName From Admin_BU BU   LEFT JOIN [HeroIdentity].[dbo].[Identity_User] BUHead WITH(NOLOCK) ON BUHead.UserId = BU.BUHeadId   LEFT JOIN Admin_UserRoleMapping URM ON URM.UserId = BU.BUHeadId   LEFT JOIN Admin_RoleMaster RM ON RM.RoleId = URM.RoleId   where BU.BUId = @BUId	END     END TRY                             BEGIN CATCH                DECLARE @StrProcedure_Name varchar(500), @ErrorDetail varchar(1000), @ParameterList varchar(2000)                          SET @StrProcedure_Name=ERROR_PROCEDURE()                                          SET @ErrorDetail=ERROR_MESSAGE()                                          EXEC Admin_InsertErrorDetail @StrProcedure_Name=@StrProcedure_Name,@ErrorDetail=@ErrorDetail,@ParameterList=@ParameterList                                          END CATCH                     END