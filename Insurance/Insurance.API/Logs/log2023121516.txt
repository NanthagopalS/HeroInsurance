2023-12-15 16:12:22.987 +05:30 [INF] User profile is available. Using 'C:\Users\NanthagopalShanmugam\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-15 16:12:23.291 +05:30 [INF] Now listening on: https://localhost:7217
2023-12-15 16:12:23.293 +05:30 [INF] Now listening on: http://localhost:5217
2023-12-15 16:12:23.301 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-12-15 16:12:23.303 +05:30 [INF] Hosting environment: Development
2023-12-15 16:12:23.304 +05:30 [INF] Content root path: C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.API\
2023-12-15 16:12:23.716 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - -
2023-12-15 16:12:24.181 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - - - 200 - text/html;charset=utf-8 468.8879ms
2023-12-15 16:12:24.182 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - -
2023-12-15 16:12:24.182 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - -
2023-12-15 16:12:24.198 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - - - 200 13762 application/javascript;+charset=utf-8 16.6910ms
2023-12-15 16:12:24.249 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.2987ms
2023-12-15 16:12:24.295 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - -
2023-12-15 16:12:24.927 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 631.5702ms
2023-12-15 16:13:08.451 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7217/api/v1/Quote/QuoteConfirmDetails/E656D5D1-5239-4E48-9048-228C67AE3AC3/7C82F14C-8549-4E1A-AAFA-6A01A092C0F5 application/json 1109
2023-12-15 16:13:08.500 +05:30 [INF] CORS policy execution successful.
2023-12-15 16:13:08.800 +05:30 [INF] Executing endpoint 'Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API)'
2023-12-15 16:13:08.850 +05:30 [INF] Route matched with {action = "QuoteConfirmDetails", controller = "Quote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Insurance.Domain.GoDigit.QuoteConfirmDetailsResponseModel]]] QuoteConfirmDetails(System.String, System.String, Insurance.Domain.Quote.QuoteConfirmRequestModel, System.Threading.CancellationToken) on controller Insurance.API.Controllers.v1.QuoteController (Insurance.API).
2023-12-15 16:13:21.926 +05:30 [INF] Executed action Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API) in 13066.7311ms
2023-12-15 16:13:21.934 +05:30 [INF] Executed endpoint 'Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API)'
2023-12-15 16:13:23.647 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Insurance.Persistence.Repository.QuoteRepository.GetQuoteTransactionDetails(String transactionID, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Persistence\Repository\QuoteRepository.cs:line 414
   at Insurance.Persistence.Repository.QuoteRepository.GetQuoteConfirmDetailsDB(String transactionID, QuoteConfirmRequestModel quoteConfirmCommand, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Persistence\Repository\QuoteRepository.cs:line 2074
   at Insurance.Core.Features.IFFCO.Command.QuoteConfirm.IffcoQuoteConfirmCommandHandler.Handle(IffcoQuoteConfirmCommand request, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Core\Features\IFFCO\Command\QuoteConfirm\IffcoQuoteConfirmCommandHandler.cs:line 56
   at Insurance.Core.Behavior.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Core\Behavior\ValidationBehaviour.cs:line 50
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails(String insurerId, String quoteTranId, QuoteConfirmRequestModel quoteConfirmCommand, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.API\Controllers\v1\QuoteController.cs:line 603
   at lambda_method11(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.API\Program.cs:line 148
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-12-15 16:13:23.799 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7217/api/v1/Quote/QuoteConfirmDetails/E656D5D1-5239-4E48-9048-228C67AE3AC3/7C82F14C-8549-4E1A-AAFA-6A01A092C0F5 application/json 1109 - 500 - application/problem+json 15349.9882ms
2023-12-15 16:13:31.733 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7217/api/v1/Quote/QuoteConfirmDetails/E656D5D1-5239-4E48-9048-228C67AE3AC3/7C82F14C-8549-4E1A-AAFA-6A01A092C0F5 application/json 1109
2023-12-15 16:13:31.741 +05:30 [INF] CORS policy execution successful.
2023-12-15 16:13:31.750 +05:30 [INF] Executing endpoint 'Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API)'
2023-12-15 16:13:31.755 +05:30 [INF] Route matched with {action = "QuoteConfirmDetails", controller = "Quote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Insurance.Domain.GoDigit.QuoteConfirmDetailsResponseModel]]] QuoteConfirmDetails(System.String, System.String, Insurance.Domain.Quote.QuoteConfirmRequestModel, System.Threading.CancellationToken) on controller Insurance.API.Controllers.v1.QuoteController (Insurance.API).
2023-12-15 16:14:09.484 +05:30 [INF] Executed action Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API) in 37725.5579ms
2023-12-15 16:14:09.486 +05:30 [INF] Executed endpoint 'Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API)'
2023-12-15 16:14:09.617 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: The reader has been disposed; this can happen after all data has been consumed
Object name: 'Dapper.SqlMapper+GridReader'.
   at Dapper.SqlMapper.GridReader.ReadImpl[T](Type type, Boolean buffered) in /_/Dapper/SqlMapper.GridReader.cs:line 151
   at Insurance.Persistence.Repository.QuoteRepository.GetQuoteTransactionDetails(String transactionID, CancellationToken cancellationToken)
   at Insurance.Persistence.Repository.QuoteRepository.GetQuoteConfirmDetailsDB(String transactionID, QuoteConfirmRequestModel quoteConfirmCommand, CancellationToken cancellationToken)
   at Insurance.Core.Features.IFFCO.Command.QuoteConfirm.IffcoQuoteConfirmCommandHandler.Handle(IffcoQuoteConfirmCommand request, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Core\Features\IFFCO\Command\QuoteConfirm\IffcoQuoteConfirmCommandHandler.cs:line 56
   at Insurance.Core.Behavior.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.Core\Behavior\ValidationBehaviour.cs:line 50
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails(String insurerId, String quoteTranId, QuoteConfirmRequestModel quoteConfirmCommand, CancellationToken cancellationToken) in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.API\Controllers\v1\QuoteController.cs:line 603
   at lambda_method11(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in C:\Hero_Insurance\HeroInsurance\Insurance\Insurance.API\Program.cs:line 148
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-12-15 16:14:09.652 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7217/api/v1/Quote/QuoteConfirmDetails/E656D5D1-5239-4E48-9048-228C67AE3AC3/7C82F14C-8549-4E1A-AAFA-6A01A092C0F5 application/json 1109 - 500 - application/problem+json 37919.3189ms
2023-12-15 16:14:10.243 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/index.html - -
2023-12-15 16:14:10.258 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/index.html - - - 200 - text/html;charset=utf-8 15.0447ms
2023-12-15 16:14:10.283 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/_vs/browserLink - -
2023-12-15 16:14:10.283 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - -
2023-12-15 16:14:10.286 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/_framework/aspnetcore-browser-refresh.js - - - 200 13762 application/javascript;+charset=utf-8 2.6394ms
2023-12-15 16:14:10.333 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.1784ms
2023-12-15 16:14:10.398 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - -
2023-12-15 16:14:10.681 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7217/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 282.2800ms
2023-12-15 16:14:40.736 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7217/api/v1/Quote/QuoteConfirmDetails/E656D5D1-5239-4E48-9048-228C67AE3AC3/7C82F14C-8549-4E1A-AAFA-6A01A092C0F5 application/json 1109
2023-12-15 16:14:40.738 +05:30 [INF] CORS policy execution successful.
2023-12-15 16:14:40.746 +05:30 [INF] Executing endpoint 'Insurance.API.Controllers.v1.QuoteController.QuoteConfirmDetails (Insurance.API)'
2023-12-15 16:14:40.759 +05:30 [INF] Route matched with {action = "QuoteConfirmDetails", controller = "Quote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Insurance.Domain.GoDigit.QuoteConfirmDetailsResponseModel]]] QuoteConfirmDetails(System.String, System.String, Insurance.Domain.Quote.QuoteConfirmRequestModel, System.Threading.CancellationToken) on controller Insurance.API.Controllers.v1.QuoteController (Insurance.API).
